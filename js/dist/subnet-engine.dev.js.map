{"version":3,"sources":["subnet-engine.js"],"names":["SubnetEngine","isValidIP","ip","octets","split","length","every","octet","num","parseInt","toString","isValidPrefix","prefix","Number","isInteger","ipToInt","reduce","int","intToIP","join","toBinary8","padStart","ipToBinary","map","prefixToMask","mask","getNetworkAddress","ipInt","maskInt","networkInt","getBroadcastAddress","hostMask","broadcastInt","getFirstUsable","networkAddr","getLastUsable","broadcastAddr","getUsableHosts","Math","pow","getTotalAddresses","getNetworkClass","firstOctet","isPrivateIP","calculateSubnets","baseIP","basePrefix","newPrefix","Error","subnetNumber","networkAddress","broadcastAddress","firstUsable","lastUsable","usableHosts","subnetMask","totalAddresses","baseNetworkAddr","baseNetworkInt","subnetSize","numSubnets","subnets","i","subnetNetworkInt","push","getBinaryBreakdown","o","maskOctets","networkOctets","breakdown","decimal","binary","fullBinary","network","networkBits","hostBits","getCalculationSummary","effectivePrefix","baseNetwork","totalSubnets","hostsPerSubnet","networkClass","isPrivate","window"],"mappings":"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","sourcesContent":["/**\r\n * ============================================\r\n * Subnet Engine - Core Calculation Logic\r\n * ============================================\r\n * This module handles all subnet calculations including:\r\n * - IP address manipulation and validation\r\n * - Subnet mask generation\r\n * - Network and broadcast address calculation\r\n * - Usable host range determination\r\n * - Binary conversions\r\n * ============================================\r\n */\r\n\r\nconst SubnetEngine = (function() {\r\n    'use strict';\r\n\r\n    /**\r\n     * Validates an IPv4 address\r\n     * @param {string} ip - IP address to validate\r\n     * @returns {boolean} - True if valid\r\n     */\r\n    function isValidIP(ip) {\r\n        const octets = ip.split('.');\r\n        if (octets.length !== 4) return false;\r\n        \r\n        return octets.every(octet => {\r\n            const num = parseInt(octet, 10);\r\n            return num >= 0 && num <= 255 && octet === num.toString();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Validates a CIDR prefix\r\n     * @param {number} prefix - Prefix length to validate\r\n     * @returns {boolean} - True if valid\r\n     */\r\n    function isValidPrefix(prefix) {\r\n        return prefix >= 0 && prefix <= 32 && Number.isInteger(prefix);\r\n    }\r\n\r\n    /**\r\n     * Converts IP address to 32-bit integer\r\n     * @param {string} ip - IP address\r\n     * @returns {number} - 32-bit integer representation\r\n     */\r\n    function ipToInt(ip) {\r\n        return ip.split('.')\r\n            .reduce((int, octet) => (int << 8) + parseInt(octet, 10), 0) >>> 0;\r\n    }\r\n\r\n    /**\r\n     * Converts 32-bit integer to IP address\r\n     * @param {number} int - 32-bit integer\r\n     * @returns {string} - IP address\r\n     */\r\n    function intToIP(int) {\r\n        return [\r\n            (int >>> 24) & 255,\r\n            (int >>> 16) & 255,\r\n            (int >>> 8) & 255,\r\n            int & 255\r\n        ].join('.');\r\n    }\r\n\r\n    /**\r\n     * Converts number to 8-bit binary string\r\n     * @param {number} num - Number to convert\r\n     * @returns {string} - 8-bit binary string\r\n     */\r\n    function toBinary8(num) {\r\n        return num.toString(2).padStart(8, '0');\r\n    }\r\n\r\n    /**\r\n     * Converts IP address to binary string with dots\r\n     * @param {string} ip - IP address\r\n     * @returns {string} - Binary representation\r\n     */\r\n    function ipToBinary(ip) {\r\n        return ip.split('.')\r\n            .map(octet => toBinary8(parseInt(octet, 10)))\r\n            .join('.');\r\n    }\r\n\r\n    /**\r\n     * Generates subnet mask from prefix length\r\n     * @param {number} prefix - Prefix length (0-32)\r\n     * @returns {string} - Subnet mask in dotted decimal\r\n     */\r\n    function prefixToMask(prefix) {\r\n        const mask = (0xFFFFFFFF << (32 - prefix)) >>> 0;\r\n        return intToIP(mask);\r\n    }\r\n\r\n    /**\r\n     * Calculates network address\r\n     * @param {string} ip - IP address\r\n     * @param {number} prefix - Prefix length\r\n     * @returns {string} - Network address\r\n     */\r\n    function getNetworkAddress(ip, prefix) {\r\n        const ipInt = ipToInt(ip);\r\n        const maskInt = (0xFFFFFFFF << (32 - prefix)) >>> 0;\r\n        const networkInt = (ipInt & maskInt) >>> 0;\r\n        return intToIP(networkInt);\r\n    }\r\n\r\n    /**\r\n     * Calculates broadcast address\r\n     * @param {string} ip - IP address\r\n     * @param {number} prefix - Prefix length\r\n     * @returns {string} - Broadcast address\r\n     */\r\n    function getBroadcastAddress(ip, prefix) {\r\n        const networkInt = ipToInt(getNetworkAddress(ip, prefix));\r\n        const hostMask = (0xFFFFFFFF >>> prefix) >>> 0;\r\n        const broadcastInt = (networkInt | hostMask) >>> 0;\r\n        return intToIP(broadcastInt);\r\n    }\r\n\r\n    /**\r\n     * Calculates first usable host address\r\n     * @param {string} networkAddr - Network address\r\n     * @returns {string} - First usable host\r\n     */\r\n    function getFirstUsable(networkAddr) {\r\n        const networkInt = ipToInt(networkAddr);\r\n        return intToIP((networkInt + 1) >>> 0);\r\n    }\r\n\r\n    /**\r\n     * Calculates last usable host address\r\n     * @param {string} broadcastAddr - Broadcast address\r\n     * @returns {string} - Last usable host\r\n     */\r\n    function getLastUsable(broadcastAddr) {\r\n        const broadcastInt = ipToInt(broadcastAddr);\r\n        return intToIP((broadcastInt - 1) >>> 0);\r\n    }\r\n\r\n    /**\r\n     * Calculates number of usable hosts\r\n     * @param {number} prefix - Prefix length\r\n     * @returns {number} - Number of usable hosts\r\n     */\r\n    function getUsableHosts(prefix) {\r\n        if (prefix >= 31) return 0; // /31 and /32 have no usable hosts in standard subnetting\r\n        return Math.pow(2, 32 - prefix) - 2;\r\n    }\r\n\r\n    /**\r\n     * Calculates total number of addresses in subnet\r\n     * @param {number} prefix - Prefix length\r\n     * @returns {number} - Total addresses\r\n     */\r\n    function getTotalAddresses(prefix) {\r\n        return Math.pow(2, 32 - prefix);\r\n    }\r\n\r\n    /**\r\n     * Determines network class from IP\r\n     * @param {string} ip - IP address\r\n     * @returns {string} - Network class (A, B, C, D, E)\r\n     */\r\n    function getNetworkClass(ip) {\r\n        const firstOctet = parseInt(ip.split('.')[0], 10);\r\n        \r\n        if (firstOctet >= 1 && firstOctet <= 126) return 'A';\r\n        if (firstOctet >= 128 && firstOctet <= 191) return 'B';\r\n        if (firstOctet >= 192 && firstOctet <= 223) return 'C';\r\n        if (firstOctet >= 224 && firstOctet <= 239) return 'D (Multicast)';\r\n        if (firstOctet >= 240 && firstOctet <= 255) return 'E (Reserved)';\r\n        \r\n        return 'Unknown';\r\n    }\r\n\r\n    /**\r\n     * Determines if IP is private\r\n     * @param {string} ip - IP address\r\n     * @returns {boolean} - True if private\r\n     */\r\n    function isPrivateIP(ip) {\r\n        const ipInt = ipToInt(ip);\r\n        \r\n        // 10.0.0.0/8\r\n        if (ipInt >= ipToInt('10.0.0.0') && ipInt <= ipToInt('10.255.255.255')) return true;\r\n        \r\n        // 172.16.0.0/12\r\n        if (ipInt >= ipToInt('172.16.0.0') && ipInt <= ipToInt('172.31.255.255')) return true;\r\n        \r\n        // 192.168.0.0/16\r\n        if (ipInt >= ipToInt('192.168.0.0') && ipInt <= ipToInt('192.168.255.255')) return true;\r\n        \r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Calculates all subnets when splitting a network\r\n     * @param {string} baseIP - Base network IP\r\n     * @param {number} basePrefix - Base prefix length\r\n     * @param {number} newPrefix - New prefix length (for splitting)\r\n     * @returns {Array} - Array of subnet objects\r\n     */\r\n    function calculateSubnets(baseIP, basePrefix, newPrefix = null) {\r\n        if (!isValidIP(baseIP)) {\r\n            throw new Error('Invalid IP address');\r\n        }\r\n        \r\n        if (!isValidPrefix(basePrefix)) {\r\n            throw new Error('Invalid base prefix');\r\n        }\r\n        \r\n        // If no new prefix, return single network\r\n        if (newPrefix === null || newPrefix === basePrefix) {\r\n            const networkAddr = getNetworkAddress(baseIP, basePrefix);\r\n            const broadcastAddr = getBroadcastAddress(baseIP, basePrefix);\r\n            \r\n            return [{\r\n                subnetNumber: 1,\r\n                networkAddress: networkAddr,\r\n                broadcastAddress: broadcastAddr,\r\n                firstUsable: getFirstUsable(networkAddr),\r\n                lastUsable: getLastUsable(broadcastAddr),\r\n                usableHosts: getUsableHosts(basePrefix),\r\n                subnetMask: prefixToMask(basePrefix),\r\n                prefix: basePrefix,\r\n                totalAddresses: getTotalAddresses(basePrefix)\r\n            }];\r\n        }\r\n        \r\n        if (!isValidPrefix(newPrefix)) {\r\n            throw new Error('Invalid new prefix');\r\n        }\r\n        \r\n        if (newPrefix <= basePrefix) {\r\n            throw new Error('New prefix must be larger than base prefix');\r\n        }\r\n        \r\n        const baseNetworkAddr = getNetworkAddress(baseIP, basePrefix);\r\n        const baseNetworkInt = ipToInt(baseNetworkAddr);\r\n        const subnetSize = Math.pow(2, 32 - newPrefix);\r\n        const numSubnets = Math.pow(2, newPrefix - basePrefix);\r\n        \r\n        const subnets = [];\r\n        \r\n        for (let i = 0; i < numSubnets; i++) {\r\n            const subnetNetworkInt = (baseNetworkInt + (i * subnetSize)) >>> 0;\r\n            const networkAddr = intToIP(subnetNetworkInt);\r\n            const broadcastAddr = intToIP((subnetNetworkInt + subnetSize - 1) >>> 0);\r\n            \r\n            subnets.push({\r\n                subnetNumber: i + 1,\r\n                networkAddress: networkAddr,\r\n                broadcastAddress: broadcastAddr,\r\n                firstUsable: getFirstUsable(networkAddr),\r\n                lastUsable: getLastUsable(broadcastAddr),\r\n                usableHosts: getUsableHosts(newPrefix),\r\n                subnetMask: prefixToMask(newPrefix),\r\n                prefix: newPrefix,\r\n                totalAddresses: getTotalAddresses(newPrefix)\r\n            });\r\n        }\r\n        \r\n        return subnets;\r\n    }\r\n\r\n    /**\r\n     * Gets detailed information for binary visualization\r\n     * @param {string} ip - IP address\r\n     * @param {number} prefix - Prefix length\r\n     * @returns {Object} - Binary breakdown object\r\n     */\r\n    function getBinaryBreakdown(ip, prefix) {\r\n        const octets = ip.split('.').map(o => parseInt(o, 10));\r\n        const mask = prefixToMask(prefix);\r\n        const maskOctets = mask.split('.').map(o => parseInt(o, 10));\r\n        const networkAddr = getNetworkAddress(ip, prefix);\r\n        const networkOctets = networkAddr.split('.').map(o => parseInt(o, 10));\r\n        \r\n        const breakdown = {\r\n            ip: {\r\n                decimal: ip,\r\n                octets: octets,\r\n                binary: octets.map(o => toBinary8(o)),\r\n                fullBinary: ipToBinary(ip)\r\n            },\r\n            mask: {\r\n                decimal: mask,\r\n                octets: maskOctets,\r\n                binary: maskOctets.map(o => toBinary8(o)),\r\n                fullBinary: ipToBinary(mask),\r\n                prefix: prefix\r\n            },\r\n            network: {\r\n                decimal: networkAddr,\r\n                octets: networkOctets,\r\n                binary: networkOctets.map(o => toBinary8(o)),\r\n                fullBinary: ipToBinary(networkAddr)\r\n            },\r\n            networkBits: prefix,\r\n            hostBits: 32 - prefix\r\n        };\r\n        \r\n        return breakdown;\r\n    }\r\n\r\n    /**\r\n     * Generates subnet calculation summary\r\n     * @param {string} baseIP - Base IP address\r\n     * @param {number} basePrefix - Base prefix\r\n     * @param {number} newPrefix - New prefix (optional)\r\n     * @returns {Object} - Calculation summary\r\n     */\r\n    function getCalculationSummary(baseIP, basePrefix, newPrefix = null) {\r\n        const effectivePrefix = newPrefix || basePrefix;\r\n        const subnets = calculateSubnets(baseIP, basePrefix, newPrefix);\r\n        \r\n        return {\r\n            baseNetwork: getNetworkAddress(baseIP, basePrefix),\r\n            basePrefix: basePrefix,\r\n            newPrefix: newPrefix,\r\n            effectivePrefix: effectivePrefix,\r\n            subnetMask: prefixToMask(effectivePrefix),\r\n            totalSubnets: subnets.length,\r\n            hostsPerSubnet: getUsableHosts(effectivePrefix),\r\n            totalAddresses: getTotalAddresses(effectivePrefix),\r\n            networkClass: getNetworkClass(baseIP),\r\n            isPrivate: isPrivateIP(baseIP),\r\n            subnets: subnets\r\n        };\r\n    }\r\n\r\n    // Public API\r\n    return {\r\n        isValidIP,\r\n        isValidPrefix,\r\n        ipToInt,\r\n        intToIP,\r\n        toBinary8,\r\n        ipToBinary,\r\n        prefixToMask,\r\n        getNetworkAddress,\r\n        getBroadcastAddress,\r\n        getFirstUsable,\r\n        getLastUsable,\r\n        getUsableHosts,\r\n        getTotalAddresses,\r\n        getNetworkClass,\r\n        isPrivateIP,\r\n        calculateSubnets,\r\n        getBinaryBreakdown,\r\n        getCalculationSummary\r\n    };\r\n})();\r\n\r\n// Make available globally\r\nwindow.SubnetEngine = SubnetEngine;\r\n"],"file":"subnet-engine.dev.js"}