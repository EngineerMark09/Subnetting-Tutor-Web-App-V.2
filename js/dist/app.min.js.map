{"version":3,"sources":["app.js"],"names":["state","mode","theme","lastCalculation","elements","document","getElementById","basePrefix","calculateBtn","modeToggle","baseIP","learningPanel","resultsSection","visualComponents","subnetMask","resultsTableBody","networkClass","subnetMaskDecimal","networkAddress","broadcastAddress","subnetMaskBinary","cidrNotation","firstUsableHost","lastUsableHost","totalUsableHosts","totalAddresses","networkClassDisplay","totalSubnetsOutput","hostsPerSubnetOutput","ipType","exportCSV","init","createElement","getItem","textContent","appendChild","JSON","parse","saved","preferences","readyState","e","console","warn","loadPreferences","addEventListener","newPrefix","handleCalculate","forEach","input","key","handleExportCSV","themeToggle","toggleTheme","exportPDF","handleExportPDF","applyTheme","applyMode","log","newPrefixValue","SubnetEngine","isValidIP","value","trim","parseInt","showError","isValidPrefix","summary","getCalculationSummary","binary","getBinaryBreakdown","firstSubnet","firstUsable","lastUsable","hostsPerSubnet","toLocaleString","effectivePrefix","totalSubnets","networkBits","hostBits","tableHTML","isPrivate","innerHTML","concat","classList","subnets","subnet","subnetNumber","displayLearningContent","Explanations","explanationContent","explanationHTML","Visualizer","renderBinaryVisualization","add","displayResults","scrollIntoView","remove","behavior","block","error","message","toggleMode","generateFullExplanation","savePreferences","_state$lastCalculatio","documentElement","setAttribute","timestamp","filename","Exporter","exportToCSV","showSuccess","removeAttribute","toISOString","split","Date","notification","removeChild","exportToPDF","localStorage","setItem","style","cssText","body","setTimeout","animation","preventDefault","stringify","ctrlKey","metaKey","head","window","SubnetTutorApp","getState","_objectSpread","calculate"],"mappings":"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","file":"app.min.js","sourcesContent":["/**\r\n * ============================================\r\n * Main Application Controller\r\n * ============================================\r\n * Coordinates all modules and handles user interactions\r\n * Manages state, theme, mode switching, and calculations\r\n * ============================================\r\n */\r\n\r\n(function() {\r\n    'use strict';\r\n\r\n    // Application state\r\n    const state = {\r\n        mode: 'beginner', // 'beginner' or 'expert'\r\n        theme: 'light', // 'light' or 'dark'\r\n        lastCalculation: null\r\n    };\r\n\r\n    // DOM elements\r\n    const elements = {\r\n        // Inputs\r\n        baseIP: document.getElementById('baseIP'),\r\n        basePrefix: document.getElementById('basePrefix'),\r\n        newPrefix: document.getElementById('newPrefix'),\r\n        calculateBtn: document.getElementById('calculateBtn'),\r\n        \r\n        // Controls\r\n        modeToggle: document.getElementById('modeToggle'),\r\n        themeToggle: document.getElementById('themeToggle'),\r\n        \r\n        // Sections\r\n        resultsSection: document.getElementById('resultsSection'),\r\n        learningPanel: document.getElementById('learningPanel'),\r\n        visualComponents: document.getElementById('visualComponents'),\r\n        \r\n        // Results\r\n        resultsTableBody: document.getElementById('resultsTableBody'),\r\n        totalSubnets: document.getElementById('totalSubnets'),\r\n        hostsPerSubnet: document.getElementById('hostsPerSubnet'),\r\n        subnetMask: document.getElementById('subnetMask'),\r\n        networkClass: document.getElementById('networkClass'),\r\n        \r\n        // Standard Subnetting Outputs\r\n        networkAddress: document.getElementById('networkAddress'),\r\n        broadcastAddress: document.getElementById('broadcastAddress'),\r\n        subnetMaskDecimal: document.getElementById('subnetMaskDecimal'),\r\n        subnetMaskBinary: document.getElementById('subnetMaskBinary'),\r\n        cidrNotation: document.getElementById('cidrNotation'),\r\n        firstUsableHost: document.getElementById('firstUsableHost'),\r\n        lastUsableHost: document.getElementById('lastUsableHost'),\r\n        totalUsableHosts: document.getElementById('totalUsableHosts'),\r\n        totalAddresses: document.getElementById('totalAddresses'),\r\n        networkClassDisplay: document.getElementById('networkClassDisplay'),\r\n        totalSubnetsOutput: document.getElementById('totalSubnetsOutput'),\r\n        hostsPerSubnetOutput: document.getElementById('hostsPerSubnetOutput'),\r\n        networkBits: document.getElementById('networkBits'),\r\n        hostBits: document.getElementById('hostBits'),\r\n        ipType: document.getElementById('ipType'),\r\n        \r\n        // Learning\r\n        explanationContent: document.getElementById('explanationContent'),\r\n        \r\n        // Export\r\n        exportCSV: document.getElementById('exportCSV'),\r\n        exportPDF: document.getElementById('exportPDF')\r\n    };\r\n\r\n    /**\r\n     * Initialize application\r\n     */\r\n    function init() {\r\n        // Load saved preferences\r\n        loadPreferences();\r\n        \r\n        // Set up event listeners\r\n        setupEventListeners();\r\n        \r\n        // Apply initial theme\r\n        applyTheme(state.theme);\r\n        \r\n        // Apply initial mode\r\n        applyMode(state.mode);\r\n        \r\n        console.log('Subnet Tutor v2.0 initialized successfully');\r\n    }\r\n\r\n    /**\r\n     * Set up all event listeners\r\n     */\r\n    function setupEventListeners() {\r\n        // Calculate button\r\n        elements.calculateBtn.addEventListener('click', handleCalculate);\r\n        \r\n        // Enter key on inputs\r\n        [elements.baseIP, elements.basePrefix, elements.newPrefix].forEach(input => {\r\n            input.addEventListener('keypress', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    handleCalculate();\r\n                }\r\n            });\r\n        });\r\n        \r\n        // Mode toggle\r\n        elements.modeToggle.addEventListener('click', toggleMode);\r\n        \r\n        // Theme toggle\r\n        elements.themeToggle.addEventListener('click', toggleTheme);\r\n        \r\n        // Export buttons\r\n        elements.exportCSV.addEventListener('click', handleExportCSV);\r\n        elements.exportPDF.addEventListener('click', handleExportPDF);\r\n    }\r\n\r\n    /**\r\n     * Handle calculate button click\r\n     */\r\n    function handleCalculate() {\r\n        try {\r\n            // Get input values\r\n            const baseIP = elements.baseIP.value.trim();\r\n            const basePrefix = parseInt(elements.basePrefix.value, 10);\r\n            const newPrefixValue = elements.newPrefix.value.trim();\r\n            const newPrefix = newPrefixValue ? parseInt(newPrefixValue, 10) : null;\r\n\r\n            // Validate inputs\r\n            if (!SubnetEngine.isValidIP(baseIP)) {\r\n                showError('Invalid IP address. Please enter a valid IPv4 address (e.g., 192.168.1.0)');\r\n                return;\r\n            }\r\n\r\n            if (!SubnetEngine.isValidPrefix(basePrefix)) {\r\n                showError('Invalid base prefix. Please enter a value between 8 and 30.');\r\n                return;\r\n            }\r\n\r\n            if (newPrefix !== null && !SubnetEngine.isValidPrefix(newPrefix)) {\r\n                showError('Invalid new prefix. Please enter a value between 8 and 30, or leave empty.');\r\n                return;\r\n            }\r\n\r\n            if (newPrefix !== null && newPrefix <= basePrefix) {\r\n                showError('New prefix must be larger than base prefix to split the network.');\r\n                return;\r\n            }\r\n\r\n            // Perform calculation\r\n            const summary = SubnetEngine.getCalculationSummary(baseIP, basePrefix, newPrefix);\r\n            const binary = SubnetEngine.getBinaryBreakdown(baseIP, basePrefix);\r\n\r\n            // Store calculation\r\n            state.lastCalculation = { summary, binary };\r\n\r\n            // Display results\r\n            displayResults(summary);\r\n            \r\n            // Display learning content (if in beginner mode)\r\n            if (state.mode === 'beginner') {\r\n                displayLearningContent(summary, binary);\r\n            }\r\n\r\n            // Show results section\r\n            elements.resultsSection.classList.remove('hidden');\r\n            \r\n            // Smooth scroll to results\r\n            elements.resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n\r\n        } catch (error) {\r\n            showError(`Calculation error: ${error.message}`);\r\n            console.error('Calculation error:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Display calculation results\r\n     * @param {Object} summary - Calculation summary\r\n     */\r\n    function displayResults(summary) {\r\n        const firstSubnet = summary.subnets[0];\r\n        \r\n        // Populate Standard Subnetting Outputs\r\n        // Network Information\r\n        elements.networkAddress.textContent = firstSubnet.networkAddress;\r\n        elements.broadcastAddress.textContent = firstSubnet.broadcastAddress;\r\n        elements.subnetMaskDecimal.textContent = summary.subnetMask;\r\n        elements.subnetMaskBinary.textContent = SubnetEngine.ipToBinary(summary.subnetMask);\r\n        elements.cidrNotation.textContent = `${firstSubnet.networkAddress}/${summary.effectivePrefix}`;\r\n        \r\n        // Host Information\r\n        elements.firstUsableHost.textContent = firstSubnet.firstUsable;\r\n        elements.lastUsableHost.textContent = firstSubnet.lastUsable;\r\n        elements.totalUsableHosts.textContent = summary.hostsPerSubnet.toLocaleString();\r\n        elements.totalAddresses.textContent = summary.totalAddresses.toLocaleString();\r\n        elements.networkClassDisplay.textContent = summary.networkClass;\r\n        \r\n        // Subnet Information\r\n        elements.totalSubnetsOutput.textContent = summary.totalSubnets;\r\n        elements.hostsPerSubnetOutput.textContent = summary.hostsPerSubnet.toLocaleString();\r\n        elements.networkBits.textContent = summary.effectivePrefix + ' bits';\r\n        elements.hostBits.textContent = (32 - summary.effectivePrefix) + ' bits';\r\n        elements.ipType.textContent = summary.isPrivate ? 'Private IP' : 'Public IP';\r\n        \r\n        // Update summary cards (keep for visual balance)\r\n        elements.totalSubnets.textContent = summary.totalSubnets;\r\n        elements.hostsPerSubnet.textContent = summary.hostsPerSubnet;\r\n        elements.subnetMask.textContent = `${summary.subnetMask} /${summary.effectivePrefix}`;\r\n        elements.networkClass.textContent = summary.networkClass;\r\n\r\n        // Build table rows\r\n        let tableHTML = '';\r\n        summary.subnets.forEach(subnet => {\r\n            tableHTML += `\r\n                <tr>\r\n                    <td>${subnet.subnetNumber}</td>\r\n                    <td>${subnet.networkAddress}</td>\r\n                    <td>${subnet.broadcastAddress}</td>\r\n                    <td>${subnet.firstUsable} → ${subnet.lastUsable}</td>\r\n                    <td>${subnet.usableHosts}</td>\r\n                    <td>${subnet.subnetMask} /${subnet.prefix}</td>\r\n                </tr>\r\n            `;\r\n        });\r\n\r\n        elements.resultsTableBody.innerHTML = tableHTML;\r\n\r\n        // Add fade-in animation\r\n        elements.resultsSection.classList.add('fade-in');\r\n    }\r\n\r\n    /**\r\n     * Display learning content (beginner mode)\r\n     * @param {Object} summary - Calculation summary\r\n     * @param {Object} binary - Binary breakdown\r\n     */\r\n    function displayLearningContent(summary, binary) {\r\n        // Generate and display explanations\r\n        const explanationHTML = Explanations.generateFullExplanation(summary, binary);\r\n        elements.explanationContent.innerHTML = explanationHTML;\r\n        \r\n        // Show learning panels\r\n        elements.learningPanel.classList.remove('hidden');\r\n        elements.visualComponents.classList.remove('hidden');\r\n\r\n        // Render visualizations\r\n        Visualizer.renderBinaryVisualization(binary, 'binaryVisualization');\r\n        Visualizer.renderSubnetTree(\r\n            summary.subnets,\r\n            summary.basePrefix,\r\n            summary.newPrefix,\r\n            'subnetTree'\r\n        );\r\n\r\n        // Add animations\r\n        elements.learningPanel.classList.add('fade-in');\r\n        elements.visualComponents.classList.add('fade-in');\r\n    }\r\n\r\n    /**\r\n     * Toggle between beginner and expert mode\r\n     */\r\n    function toggleMode() {\r\n        state.mode = state.mode === 'beginner' ? 'expert' : 'beginner';\r\n        applyMode(state.mode);\r\n        savePreferences();\r\n    }\r\n\r\n    /**\r\n     * Apply mode settings\r\n     * @param {string} mode - 'beginner' or 'expert'\r\n     */\r\n    function applyMode(mode) {\r\n        if (mode === 'beginner') {\r\n            elements.modeToggle.innerHTML = `\r\n                <svg class=\"icon\"><use href=\"#icon-beginner\"></use></svg>\r\n                <span>Beginner Mode</span>\r\n            `;\r\n            \r\n            // Show learning content if calculation exists\r\n            if (state.lastCalculation) {\r\n                elements.learningPanel.classList.remove('hidden');\r\n                elements.visualComponents.classList.remove('hidden');\r\n                \r\n                // Regenerate learning content\r\n                const { summary, binary } = state.lastCalculation;\r\n                displayLearningContent(summary, binary);\r\n            }\r\n        } else {\r\n            elements.modeToggle.innerHTML = `\r\n                <svg class=\"icon\"><use href=\"#icon-expert\"></use></svg>\r\n                <span>Expert Mode</span>\r\n            `;\r\n            \r\n            // Hide learning content\r\n            elements.learningPanel.classList.add('hidden');\r\n            elements.visualComponents.classList.add('hidden');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggle between light and dark theme\r\n     */\r\n    function toggleTheme() {\r\n        state.theme = state.theme === 'light' ? 'dark' : 'light';\r\n        applyTheme(state.theme);\r\n        savePreferences();\r\n    }\r\n\r\n    /**\r\n     * Apply theme\r\n     * @param {string} theme - 'light' or 'dark'\r\n     */\r\n    function applyTheme(theme) {\r\n        if (theme === 'dark') {\r\n            document.documentElement.setAttribute('data-theme', 'dark');\r\n            elements.themeToggle.innerHTML = '<svg class=\"icon\"><use href=\"#icon-sun\"></use></svg>';\r\n        } else {\r\n            document.documentElement.removeAttribute('data-theme');\r\n            elements.themeToggle.innerHTML = '<svg class=\"icon\"><use href=\"#icon-moon\"></use></svg>';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handle CSV export\r\n     */\r\n    function handleExportCSV() {\r\n        if (!state.lastCalculation) {\r\n            showError('No calculation results to export. Please calculate first.');\r\n            return;\r\n        }\r\n\r\n        const timestamp = new Date().toISOString().split('T')[0];\r\n        const filename = `subnet-results-${timestamp}.csv`;\r\n        \r\n        Exporter.exportToCSV(state.lastCalculation.summary, filename);\r\n        showSuccess('Results exported to CSV successfully!');\r\n    }\r\n\r\n    /**\r\n     * Handle PDF export\r\n     */\r\n    function handleExportPDF() {\r\n        if (!state.lastCalculation) {\r\n            showError('No calculation results to export. Please calculate first.');\r\n            return;\r\n        }\r\n\r\n        const timestamp = new Date().toISOString().split('T')[0];\r\n        const filename = `subnet-results-${timestamp}.pdf`;\r\n        \r\n        Exporter.exportToPDF(state.lastCalculation.summary, filename);\r\n        showSuccess('Results exported to PDF successfully!');\r\n    }\r\n\r\n    /**\r\n     * Show error message\r\n     * @param {string} message - Error message\r\n     */\r\n    function showError(message) {\r\n        alert(`❌ Error: ${message}`);\r\n    }\r\n\r\n    /**\r\n     * Show success message\r\n     * @param {string} message - Success message\r\n     */\r\n    function showSuccess(message) {\r\n        // Create temporary success notification\r\n        const notification = document.createElement('div');\r\n        notification.style.cssText = `\r\n            position: fixed;\r\n            top: 20px;\r\n            right: 20px;\r\n            background: var(--color-success);\r\n            color: white;\r\n            padding: 1rem 1.5rem;\r\n            border-radius: var(--border-radius);\r\n            box-shadow: var(--shadow-lg);\r\n            z-index: 10000;\r\n            animation: slideIn 0.3s ease;\r\n        `;\r\n        notification.textContent = `✅ ${message}`;\r\n        \r\n        document.body.appendChild(notification);\r\n        \r\n        setTimeout(() => {\r\n            notification.style.animation = 'fadeOut 0.3s ease';\r\n            setTimeout(() => {\r\n                document.body.removeChild(notification);\r\n            }, 300);\r\n        }, 3000);\r\n    }\r\n\r\n    /**\r\n     * Save user preferences to localStorage\r\n     */\r\n    function savePreferences() {\r\n        try {\r\n            localStorage.setItem('subnetTutorPreferences', JSON.stringify({\r\n                mode: state.mode,\r\n                theme: state.theme\r\n            }));\r\n        } catch (e) {\r\n            console.warn('Failed to save preferences:', e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Load user preferences from localStorage\r\n     */\r\n    function loadPreferences() {\r\n        try {\r\n            const saved = localStorage.getItem('subnetTutorPreferences');\r\n            if (saved) {\r\n                const preferences = JSON.parse(saved);\r\n                state.mode = preferences.mode || 'beginner';\r\n                state.theme = preferences.theme || 'light';\r\n            }\r\n        } catch (e) {\r\n            console.warn('Failed to load preferences:', e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handle keyboard shortcuts\r\n     */\r\n    document.addEventListener('keydown', (e) => {\r\n        // Ctrl/Cmd + K: Calculate\r\n        if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\r\n            e.preventDefault();\r\n            handleCalculate();\r\n        }\r\n        \r\n        // Ctrl/Cmd + M: Toggle mode\r\n        if ((e.ctrlKey || e.metaKey) && e.key === 'm') {\r\n            e.preventDefault();\r\n            toggleMode();\r\n        }\r\n        \r\n        // Ctrl/Cmd + T: Toggle theme\r\n        if ((e.ctrlKey || e.metaKey) && e.key === 't') {\r\n            e.preventDefault();\r\n            toggleTheme();\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Add CSS animation for notifications\r\n     */\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n        @keyframes fadeOut {\r\n            from { opacity: 1; }\r\n            to { opacity: 0; }\r\n        }\r\n    `;\r\n    document.head.appendChild(style);\r\n\r\n    // Initialize when DOM is ready\r\n    if (document.readyState === 'loading') {\r\n        document.addEventListener('DOMContentLoaded', init);\r\n    } else {\r\n        init();\r\n    }\r\n\r\n    // Export state for debugging (optional)\r\n    window.SubnetTutorApp = {\r\n        getState: () => ({ ...state }),\r\n        calculate: handleCalculate,\r\n        toggleMode,\r\n        toggleTheme\r\n    };\r\n\r\n})();\r\n"]}