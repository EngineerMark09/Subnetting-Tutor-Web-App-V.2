"use strict";function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,s)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(n,!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){var r={mode:"beginner",theme:"light",lastCalculation:null},l={baseIP:document.getElementById("baseIP"),basePrefix:document.getElementById("basePrefix"),newPrefix:document.getElementById("newPrefix"),calculateBtn:document.getElementById("calculateBtn"),modeToggle:document.getElementById("modeToggle"),themeToggle:document.getElementById("themeToggle"),resultsSection:document.getElementById("resultsSection"),learningPanel:document.getElementById("learningPanel"),visualComponents:document.getElementById("visualComponents"),resultsTableBody:document.getElementById("resultsTableBody"),totalSubnets:document.getElementById("totalSubnets"),hostsPerSubnet:document.getElementById("hostsPerSubnet"),subnetMask:document.getElementById("subnetMask"),networkClass:document.getElementById("networkClass"),networkAddress:document.getElementById("networkAddress"),broadcastAddress:document.getElementById("broadcastAddress"),subnetMaskDecimal:document.getElementById("subnetMaskDecimal"),subnetMaskBinary:document.getElementById("subnetMaskBinary"),cidrNotation:document.getElementById("cidrNotation"),firstUsableHost:document.getElementById("firstUsableHost"),lastUsableHost:document.getElementById("lastUsableHost"),totalUsableHosts:document.getElementById("totalUsableHosts"),totalAddresses:document.getElementById("totalAddresses"),networkClassDisplay:document.getElementById("networkClassDisplay"),totalSubnetsOutput:document.getElementById("totalSubnetsOutput"),hostsPerSubnetOutput:document.getElementById("hostsPerSubnetOutput"),networkBits:document.getElementById("networkBits"),hostBits:document.getElementById("hostBits"),ipType:document.getElementById("ipType"),explanationContent:document.getElementById("explanationContent"),exportCSV:document.getElementById("exportCSV"),exportPDF:document.getElementById("exportPDF")};function e(){!function(){try{var e=localStorage.getItem("subnetTutorPreferences");if(e){var t=JSON.parse(e);r.mode=t.mode||"beginner",r.theme=t.theme||"light"}}catch(e){console.warn("Failed to load preferences:",e)}}(),l.calculateBtn.addEventListener("click",t),[l.baseIP,l.basePrefix,l.newPrefix].forEach(function(e){e.addEventListener("keypress",function(e){"Enter"===e.key&&t()})}),l.modeToggle.addEventListener("click",n),l.themeToggle.addEventListener("click",o),l.exportCSV.addEventListener("click",d),l.exportPDF.addEventListener("click",c),a(r.theme),s(r.mode),console.log("Subnet Tutor v2.0 initialized successfully")}function t(){try{var e=l.baseIP.value.trim(),t=parseInt(l.basePrefix.value,10),n=l.newPrefix.value.trim(),s=n?parseInt(n,10):null;if(!SubnetEngine.isValidIP(e))return void u("Invalid IP address. Please enter a valid IPv4 address (e.g., 192.168.1.0)");if(!SubnetEngine.isValidPrefix(t))return void u("Invalid base prefix. Please enter a value between 8 and 30.");if(null!==s&&!SubnetEngine.isValidPrefix(s))return void u("Invalid new prefix. Please enter a value between 8 and 30, or leave empty.");if(null!==s&&s<=t)return void u("New prefix must be larger than base prefix to split the network.");var o=SubnetEngine.getCalculationSummary(e,t,s),a=SubnetEngine.getBinaryBreakdown(e,t);r.lastCalculation={summary:o,binary:a},function(e){var t=e.subnets[0];l.networkAddress.textContent=t.networkAddress,l.broadcastAddress.textContent=t.broadcastAddress,l.subnetMaskDecimal.textContent=e.subnetMask,l.subnetMaskBinary.textContent=SubnetEngine.ipToBinary(e.subnetMask),l.cidrNotation.textContent="".concat(t.networkAddress,"/").concat(e.effectivePrefix),l.firstUsableHost.textContent=t.firstUsable,l.lastUsableHost.textContent=t.lastUsable,l.totalUsableHosts.textContent=e.hostsPerSubnet.toLocaleString(),l.totalAddresses.textContent=e.totalAddresses.toLocaleString(),l.networkClassDisplay.textContent=e.networkClass,l.totalSubnetsOutput.textContent=e.totalSubnets,l.hostsPerSubnetOutput.textContent=e.hostsPerSubnet.toLocaleString(),l.networkBits.textContent=e.effectivePrefix+" bits",l.hostBits.textContent=32-e.effectivePrefix+" bits",l.ipType.textContent=e.isPrivate?"Private IP":"Public IP",l.totalSubnets.textContent=e.totalSubnets,l.hostsPerSubnet.textContent=e.hostsPerSubnet,l.subnetMask.textContent="".concat(e.subnetMask," /").concat(e.effectivePrefix),l.networkClass.textContent=e.networkClass;var n="";e.subnets.forEach(function(e){n+="\n                <tr>\n                    <td>".concat(e.subnetNumber,"</td>\n                    <td>").concat(e.networkAddress,"</td>\n                    <td>").concat(e.broadcastAddress,"</td>\n                    <td>").concat(e.firstUsable," → ").concat(e.lastUsable,"</td>\n                    <td>").concat(e.usableHosts,"</td>\n                    <td>").concat(e.subnetMask," /").concat(e.prefix,"</td>\n                </tr>\n            ")}),l.resultsTableBody.innerHTML=n,l.resultsSection.classList.add("fade-in")}(o),"beginner"===r.mode&&i(o,a),l.resultsSection.classList.remove("hidden"),l.resultsSection.scrollIntoView({behavior:"smooth",block:"start"})}catch(e){u("Calculation error: ".concat(e.message)),console.error("Calculation error:",e)}}function i(e,t){var n=Explanations.generateFullExplanation(e,t);l.explanationContent.innerHTML=n,l.learningPanel.classList.remove("hidden"),l.visualComponents.classList.remove("hidden"),Visualizer.renderBinaryVisualization(t,"binaryVisualization"),Visualizer.renderSubnetTree(e.subnets,e.basePrefix,e.newPrefix,"subnetTree"),l.learningPanel.classList.add("fade-in"),l.visualComponents.classList.add("fade-in")}function n(){r.mode="beginner"===r.mode?"expert":"beginner",s(r.mode),b()}function s(e){if("beginner"===e){if(l.modeToggle.innerHTML='\n                <svg class="icon"><use href="#icon-beginner"></use></svg>\n                <span>Beginner Mode</span>\n            ',r.lastCalculation){l.learningPanel.classList.remove("hidden"),l.visualComponents.classList.remove("hidden");var t=r.lastCalculation;i(t.summary,t.binary)}}else l.modeToggle.innerHTML='\n                <svg class="icon"><use href="#icon-expert"></use></svg>\n                <span>Expert Mode</span>\n            ',l.learningPanel.classList.add("hidden"),l.visualComponents.classList.add("hidden")}function o(){r.theme="light"===r.theme?"dark":"light",a(r.theme),b()}function a(e){"dark"===e?(document.documentElement.setAttribute("data-theme","dark"),l.themeToggle.innerHTML='<svg class="icon"><use href="#icon-sun"></use></svg>'):(document.documentElement.removeAttribute("data-theme"),l.themeToggle.innerHTML='<svg class="icon"><use href="#icon-moon"></use></svg>')}function d(){if(r.lastCalculation){var e=(new Date).toISOString().split("T")[0],t="subnet-results-".concat(e,".csv");Exporter.exportToCSV(r.lastCalculation.summary,t),m("Results exported to CSV successfully!")}else u("No calculation results to export. Please calculate first.")}function c(){if(r.lastCalculation){var e=(new Date).toISOString().split("T")[0],t="subnet-results-".concat(e,".pdf");Exporter.exportToPDF(r.lastCalculation.summary,t),m("Results exported to PDF successfully!")}else u("No calculation results to export. Please calculate first.")}function u(e){alert("❌ Error: ".concat(e))}function m(e){var t=document.createElement("div");t.style.cssText="\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background: var(--color-success);\n            color: white;\n            padding: 1rem 1.5rem;\n            border-radius: var(--border-radius);\n            box-shadow: var(--shadow-lg);\n            z-index: 10000;\n            animation: slideIn 0.3s ease;\n        ",t.textContent="✅ ".concat(e),document.body.appendChild(t),setTimeout(function(){t.style.animation="fadeOut 0.3s ease",setTimeout(function(){document.body.removeChild(t)},300)},3e3)}function b(){try{localStorage.setItem("subnetTutorPreferences",JSON.stringify({mode:r.mode,theme:r.theme}))}catch(e){console.warn("Failed to save preferences:",e)}}document.addEventListener("keydown",function(e){(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),t()),(e.ctrlKey||e.metaKey)&&"m"===e.key&&(e.preventDefault(),n()),(e.ctrlKey||e.metaKey)&&"t"===e.key&&(e.preventDefault(),o())});var g=document.createElement("style");g.textContent="\n        @keyframes fadeOut {\n            from { opacity: 1; }\n            to { opacity: 0; }\n        }\n    ",document.head.appendChild(g),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),window.SubnetTutorApp={getState:function(){return _objectSpread({},r)},calculate:t,toggleMode:n,toggleTheme:o}}();
//# sourceMappingURL=app.min.js.map
